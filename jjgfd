#include"resource.h"
#include<windows.h>
//#define ID_BUT  1000
//LRESULT CALLBACK WndProc(HWND hwnd, UINT iMsg, WPARAM wParam, LPARAM IParam);
//int width = 500;
//int height = 500;

BOOL CALLBACK DlgProc(HWND, UINT, WPARAM, LPARAM);

int WINAPI WinMain(HINSTANCE hInstance, HINSTANCE hPrevlnstance, LPSTR lpCmdLine, int nCmdShow)
{
	/*
	LPWSTR szClassName = L"MyClass";
	LPWSTR szTitleName = L"MyWindow";

	WNDCLASSEX wndclass;
	wndclass.cbSize = sizeof(wndclass);
	wndclass.lpszClassName = szClassName;
	wndclass.style = CS_HREDRAW | CS_VREDRAW;
	wndclass.lpfnWndProc = WndProc;
	wndclass.cbClsExtra = 0;
	wndclass.cbWndExtra = 0;
	wndclass.hInstance = hInstance;
	wndclass.hCursor = LoadCursor(NULL, IDC_ARROW);
	wndclass.hIcon = LoadIcon(NULL, IDI_APPLICATION);
	wndclass.hbrBackground = CreateSolidBrush(RGB(0, 220, 0)); //(HBRUSH)GetStockObject(WHITE_BRUSH);
	wndclass.lpszMenuName = NULL;
	wndclass.hIconSm = LoadIcon(NULL, IDI_APPLICATION);

	if (!RegisterClassEx(&wndclass))
	{
		return false;
	}




	HWND hWnd = CreateWindowEx
	(
		WS_EX_TOPMOST,
		szClassName,
		L"MyClass",
		WS_OVERLAPPEDWINDOW,
		100, 100, width, height,
		NULL,
		NULL,
		hInstance,
		NULL
	);

	if (!hWnd) { return false; }
	ShowWindow(hWnd, 1);
	UpdateWindow(hWnd);



	MSG msg;
	while (GetMessage(&msg, NULL, 0, 0))
	{
		TranslateMessage(&msg);
		DispatchMessage(&msg);

	}
	return msg.wParam;
	*/
	return DialogBox(hInstance, MAKEINTRESOURCE(IDD_DIALOG1), NULL, DlgProc);
}

BOOL CALLBACK DlgProc(HWND hwnd, UINT iMsg, WPARAM wParam, LPARAM lParam)
{
	switch (iMsg)
	{
	case WM_CLOSE:
			EndDialog(hwnd,0);
			return true;
	}
	return false;
}

/*
LRESULT CALLBACK WndProc(HWND hwnd, UINT iMsg, WPARAM wParam, LPARAM lParam)
{
	
	HDC hdc;
	PAINTSTRUCT ps;
	RECT rect;
	static HWND  hWndBut;

	switch (iMsg)
	{
	case WM_CREATE:
	{
		hWndBut = CreateWindowEx(NULL, L"BUTTON", L"Close?", WS_CHILD | WS_VISIBLE | BS_AUTOCHECKBOX, 10, 10, 200, 200, hwnd, (HMENU)ID_BUT, GetModuleHandle(NULL), NULL);
	}break;
	case WM_COMMAND:
	{
		if ((HWND)lParam == hWndBut)
		{
			if (SendMessage(hWndBut, BM_GETCHECK, 0, 0) == 1)
			{
				CloseWindow(hWndBut);
			}
		}
	}break;
		
	case WM_DESTROY:
		PostQuitMessage(0);
		break;

	default:
		return DefWindowProc(hwnd, iMsg, wParam, lParam);

	}
	return 0;
	
}
*/
